/*! (c) Andrea Giammarchi - ISC */
var self=this||{};try{self.EventTarget=(new EventTarget).constructor}catch(t){!function(t,e){var r=t.create,n=t.defineProperty,i=s.prototype;function s(){"use strict";e.set(this,r(null))}function a(t,e,r){n(t,e,{configurable:!0,writable:!0,value:r})}function o(t){var e=t.options;e&&e.once&&t.target.removeEventListener(this.type,t.listener),"function"==typeof t.listener?t.listener.call(t.target,this):t.listener.handleEvent(this)}a(i,"addEventListener",(function(t,r,n){for(var i=e.get(this),s=i[t]||(i[t]=[]),a=0,o=s.length;a<o;a++)if(s[a].listener===r)return;s.push({target:this,listener:r,options:n})})),a(i,"dispatchEvent",(function(t){var r=e.get(this);if(r[t.type]){var n=r[t.type].slice(0);a(t,"target",this),a(t,"currentTarget",this);for(var i=0;i<n.length&&!t._stopImmediatePropagationFlag;i++)o.call(t,n[i]);delete t.currentTarget,delete t.target}return!0})),a(i,"removeEventListener",(function(t,r){for(var n=e.get(this),i=n[t]||(n[t]=[]),s=0,a=i.length;s<a;s++)if(i[s].listener===r)return void i.splice(s,1)})),self.EventTarget=s}(Object,new WeakMap)}